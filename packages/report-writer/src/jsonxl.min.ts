/*
Get from https://github.com/discoveryjs/jsonxl
Thanks to @lahmatiy
*/
/* eslint-disable */
// @ts-nocheck
var xt=new Uint8Array([0,0,74,83,79,78,88,76]),at=0,Ct=255,Yt=65535,Pt=16777215,lt=268435455,St=1073741823;var $=4294967295,Vt=-127,Bt=127,Dt=-32767,Lt=32767,Gt=-8388607,jt=8388607,vt=-2147483647,Xt=2147483647,qt=127,Ft=16383,Kt=2097151,tt=0,zt=1,G=2,b=4,L=8,E=16,K=32,z=64,y=128,U=0,R=1,Q=2,H=3,W=4,et=5,nt=6;var j=8,v=9,X=10,q=11,F=12,Qt=31,rt=224,Tt=7936,k=0,w=1,Y=2,P=3,S=4,V=5,J=6,Z=7,_t=8,Ht=0,st=16,ht=32,Wt=~E,Jt=G|K|z,it=new Uint8Array(256),ot=new Uint8Array(8).map((e,t)=>(it[1<<t]=t,1<<t)),O=new Uint8Array(256).map((e,t)=>{for(let n=0;n<8;n++)e+=t>>n&1;return e});var ne=65536,wt=new Uint32Array(16),bt=wt.subarray(0,8),Zt=wt.subarray(8,16);function gt(e){return Math.fround(e)===e?et:nt}function yt(e){return e<0?e<Dt?e<Gt?e<vt?F:q:X:e<Vt?v:j:e>Lt?e>jt?e>Xt?F:q:X:e>Bt?v:j}function re(e){return e>Yt?e>Pt?e>$?W:H:Q:e>Ct?R:U}function Ut(e){return Number.isInteger(e)?e<0?yt(e):re(e):gt(e)}function Ie(e){return Number.isInteger(e)?yt(e):gt(e)}function $t(e,t){let n=Math.max(Math.abs(e),Math.abs(t)),c=e<0?1:0;return Math.max(32-Math.clz32(n)+c,1)}function ue(e,t,n,c){switch(c){case U:t[k]+=1,t[Y]+=n>127?2:1,t[S]+=n>7?1:0;break;case R:t[k]+=2,t[Y]+=n>16383?3:2,t[S]+=n>1023?2:1;break;case Q:t[k]+=3,t[Y]+=n>2097151?4:3,t[S]+=n>131071?3:2;break;case H:t[k]+=4,t[Y]+=n>268435455?5:4,t[S]+=n>16777215?4:3;break;case W:{let _=e.vlqBytesNeeded(n);t[k]+=_,t[Y]+=_,t[S]+=e.vlqBytesNeeded((n-(n&7))/8);break}}}function xe(e,t,n,c){switch(n<0&&(n=-n),c){case j:{t[w]+=1,t[P]+=n>63?2:1,t[V]+=n>3?1:0;break}case v:{t[w]+=2,t[P]+=n>8191?3:2,t[V]+=n>511?2:1;break}case X:{t[w]+=3,t[P]+=n>1048575?4:3,t[V]+=n>65535?3:2;break}case q:{t[w]+=4,t[P]+=n>134217727?5:4,t[V]+=n>8388607?4:3;break}case F:{let _=2*n,o=e.vlqBytesNeeded(_);t[w]+=o,t[P]+=o,t[V]+=e.vlqBytesNeeded((_-(_&7))/8);break}}}function te(e,t,n){let c=yt(n);if(xe(e,t,n,c),n>=0){let _=re(n);return ue(e,t,n,_),1<<c|1<<_}return 1<<c|ne}function se(e,t,n,c){let _=n&ne,o=_?w:k,i=_?(n>>8|n&rt)&255:n&(Qt|rt),a=O[i],r=t[o]+(a>1?Math.ceil(e*(a<=2?1:a<=4?2:3)/8):0)+(c?2:0);return{encoding:i<<8|o,minBytes:r}}function ee(e,t,n,c,_,o){let i=o<=16?Math.ceil(e*o/8)+(c?2:0):1/0,{encoding:a,minBytes:r}=se(e,t,n,c);if((a&15)===w){let l=t[P]+(c?1:0),f=t[V]+Math.ceil(e/2)+(c?1:0);i<r&&(a=o<<8|Z,r=i),l<r&&(a=P,r=l),f<r&&(a=V,r=f)}else{let l=t[Y]+(c?1:0),f=t[S]+Math.ceil(e/2)+(c?1:0);i<r&&(a=o<<8|J,r=i),l<r&&(a=Y,r=l),f<r&&(a=S,r=f)}return{encoding:a|_,minBytes:r}}function Te(e,t,n=!0,c=0,_=t.length){let o=_-c,i=0,a=!1,r=t[c],s=t[c];wt.fill(0);for(let I=c;I<_;I++){let x=t[I];Number.isInteger(x)?i|=te(e,bt,x):(i|=1<<gt(x),a=!0),x<r&&(r=x),x>s&&(s=x)}if(a||o<2)return se(o,bt,i,n);let l=t[c+1]-t[c],f=l,h=l,N=0;for(let I=c;I<_;I++){let x=t[I];if(I!==c){let p=x-t[I-1];N|=te(e,Zt,p),l!==p&&(l=!1),p>f&&(f=p),p<h&&(h=p)}}let{encoding:u,minBytes:d}=ee(o,bt,i,n,Ht,$t(r,s)),m=ee(o-1,Zt,N,n,st,$t(h,f)),D=m.minBytes+e.vlqBytesNeeded(Math.abs(t[c])*2);if(D<d&&(u=m.encoding,d=D),o>2&&l!==!1){let I=e.vlqBytesNeeded(t[c])+e.vlqBytesNeeded(Math.abs(l)*2)+(n?1:0);I<d&&(u=_t,d=I)}return{encoding:u,minBytes:d}}function Rt(e,t,n=!0){let{encoding:c}=Te(e,t,n);return c}function de(e,t){switch(t&15){case k:case w:case J:case Z:e.writeNumber(t,R);break;default:e.writeNumber(t,U)}}function M(e,t,n){let c=Rt(e,t);n||e.writeVlq(t.length),de(e,c),kt(e,t,c)}function kt(e,t,n){let c=n&15,_=n&48,o=t;switch(_){case st:{e.writeIntVar(o[0]),o=Array.from({length:t.length-1},(i,a)=>t[a+1]-t[a]);break}case ht:{let i=o[0];for(let a=1;a<o.length;a++)o[a]<i&&(i=o[a]);e.writeIntVar(i),o=Array.from(t,a=>a-i);break}}switch(c){case Y:{for(let i=0;i<o.length;i++)e.writeVlq(o[i]);break}case P:{for(let i=0;i<o.length;i++)e.writeIntVar(o[i]);break}case S:{for(let i=0;i<o.length;i+=2)e.writeNumber((o[i]>7?8:0)|o[i]&7|(o[i+1]>7?128:0)|(o[i+1]&7)<<4,U);for(let i=0;i<o.length;i++)o[i]>7&&e.writeVlq((o[i]-(o[i]&7))/8);break}case V:{for(let i=0;i<o.length;i+=2){let a=o[i],r=Math.abs(a),s=o[i+1]||0,l=Math.abs(s);e.writeNumber((r>3?8:0)|r&3|(a<0?4:0)|(l>3?128:0)|(l&3|(s<0?4:0))<<4,U)}for(let i=0;i<o.length;i++){let a=o[i]>=0?o[i]:-o[i];a>3&&e.writeVlq((a-(a&3))/4)}break}case J:{let i=n>>8,a=0,r=0;for(let s=0;s<o.length;s++)r|=o[s]<<a,a+=i,a>=16&&(e.writeNumber(r,R),a-=16,r>>=16);a>8?e.writeNumber(r,R):a>0&&e.writeNumber(r,U);break}case Z:{let i=n>>8,a=0,r=0;for(let s=0;s<o.length;s++){let l=o[s];r|=(l<0?-l<<1|1:l<<1)<<a,a+=i,a>=16&&(e.writeNumber(r,R),a-=16,r>>=16)}a>8?e.writeNumber(r,R):a>0&&e.writeNumber(r,U);break}case _t:{e.writeIntVar(o[0]),e.writeIntVar(o[1]-o[0]);break}case k:case w:{let i=c===w,a=n>>8,r=i?n&Tt|a&rt:a;if(O[a]>1){let l=i?o.map(Ie):o.map(Ut);e.writeTypeIndex(l,r);for(let f=0;f<o.length;f++)e.writeNumber(o[f],l[f])}else{let l=31-Math.clz32(r);for(let f=0;f<o.length;f++)e.writeNumber(o[f],l)}break}default:throw new Error("Unknown numeric array encoding method:",c)}}function pe(e,t){let n=Math.min(e.length,t.length);if(n>=3){let c=0;for(;c<n&&e[c]===t[c];c++);if(c>=3)return c}return 0}function Ae(e,t,n){let c=Math.min(e.length,t.length-n);if(c>=3){let _=0;for(;_<c&&e[e.length-1-_]===t[t.length-1-_];_++);if(_>=3)return-_}return 0}function ie(e,t,n,c,_,o,i){let a="",r="";e.sort((s,l)=>t[s]<t[l]?-1:1);for(let s=0;s<e.length;s++){let l=i++,f=e[s],h=t[f],N=pe(r,h),u=Ae(r,h,N)||h.length,d=N>0,m=u<0,D=d||m?h.slice(N,u):h;o[f]=l,n[l]=D.length<<2|d<<1|m<<0,a+=D,r=h,d&&c.push(N),m&&_.push(-u)}return a}function oe(e,t){let n=new Uint32Array(e.length),c=[],_=[],o=new Uint32Array(e.length),i=new Uint32Array(e.length),a=new Set,r="",s=0;for(let f=0;f<t.length;f++){let h=t[f];o[h]++===2&&a.add(h)}let l=new Uint32Array(a).sort((f,h)=>o[h]-o[f]);for(let f of[[0,127],[127,16383]])if(l.length>s){let h=l.subarray(f[0],f[1]);r+=ie(h,e,n,c,_,i,s),s+=h.length;for(let N=0;N<h.length;N++)o[h[N]]=0}for(let f=0,h=0;f<o.length;f++)o[f]!==0&&(o[h++]=f);r+=ie(o.subarray(0,o.length-s),e,n,c,_,i,s);for(let f=0;f<t.length;f++)t[f]=i[t[f]];return{strings:r,stringDefs:n,stringSlicesStart:c,stringSlicesEnd:_,stringRefs:t}}var Ee=new TextEncoder;function Ot(e=65536){let t=()=>{o=[],n()},n=()=>{i=new Uint8Array(e),a=new DataView(i.buffer),r=0},c=()=>{o.push(i.subarray(0,r)),i=a=null},_=s=>{r+s>i.length&&(c(),n())},o=null,i=null,a=null,r=0;if(e<8)throw new Error("Chunk size can't be less than 8 bytes");return t(),{ensureCapacity:_,reset:t,emit(){c();let s=Buffer.concat(o);return o=null,s},get written(){return o!==null?o.reduce((s,l)=>s+l.byteLength,0)+r:0},writeBytes(s){let l=0;for(;l<s.byteLength;){let f=s.byteLength-r,h=s.subarray(l,l+=f);s.set(h,r),r+=h.byteLength,l<s.byteLength&&(c(),n())}},writeString(s){let l=0;for(;l<s.length;){let{read:f,written:h}=Ee.encodeInto(l>0?s.slice(l):s,r>0?i.subarray(r):i);l+=f,r+=h,l<s.length&&(c(),n())}},writeUint8(s){_(1),a.setUint8(r,s),r+=1},writeInt8(s){_(1),a.setInt8(r,s),r+=1},writeUint16(s){_(2),a.setUint16(r,s,!0),r+=2},writeInt16(s){_(2),a.setInt16(r,s,!0),r+=2},writeUint24(s){_(3),a.setUint16(r,s,!0),a.setUint8(r+2,s>>16),r+=3},writeInt24(s){_(3),a.setInt16(r,s,!0),a.setInt8(r+2,s>>16),r+=3},writeUint32(s){_(4),a.setUint32(r,s,!0),r+=4},writeInt32(s){_(4),a.setInt32(r,s,!0),r+=4},writeUint64(s){_(8),a.setBigUint64(r,BigInt(s),!0),r+=8},writeFloat32(s){_(4),a.setFloat32(r,s),r+=4},writeFloat64(s){_(8),a.setFloat64(r,s),r+=8}}}var ce=new Uint8Array(32),ae=new Uint8Array(33);for(let e=0;e<33;e++)ae[32-e]=Math.ceil(e/7)||1;function fe(e,t){let n=new Uint32Array(t.length),c=new Uint32Array(t.length).map((o,i)=>i),_=t.slice();for(let o=0;o<e.length;o++)n[e[o]]++;c.sort((o,i)=>n[i]-n[o]||o-i);for(let o=0;o<c.length;o++)n[c[o]]=o,t[o]=_[c[o]];for(let o=0;o<e.length;o++)e[o]=n[e[o]]}var Nt=class{constructor(t){this.backend=Ot(t),this.objectKeys=new Map,this.objectEntryDefs=[],this.arrayLengths=[],this.arrayHeaders=new Map,this.arrayHeaderRefs=[],this.strings=new Map,this.stringRefs=[]}emit(){let t=new Uint8Array(12),n=new DataView(t.buffer);t.set(xt),n.setUint16(8,at,!0);let c=this.backend.emit();for(let f of this.objectKeys.keys())this.writeString(f);let{strings:_,stringDefs:o,stringSlicesStart:i,stringSlicesEnd:a,stringRefs:r}=oe([...this.strings.keys()],this.stringRefs);this.backend.reset(),this.writeVlq(Buffer.byteLength(_)),this.backend.writeString(_),M(this,o),M(this,i),M(this,a),M(this,r),M(this,this.arrayLengths);let s=[...this.arrayHeaders.keys()];fe(this.arrayHeaderRefs,s),M(this,s),M(this,this.arrayHeaderRefs),this.writeVlq(this.objectEntryDefs.length),this.writeVlq(this.objectKeys.size);for(let f of this.objectEntryDefs){let h=[0,...f.keys()],N=f.refs;fe(N,h),M(this,h),M(this,N)}let l=this.backend.emit();return Buffer.concat([t,l,c])}writeString(t){let n=this.strings.get(t);n===void 0&&this.strings.set(t,n=this.strings.size),this.stringRefs.push(n)}writeObjectEntryKey(t,n,c){let _=this.objectKeys.get(n);_===void 0&&this.objectKeys.set(n,_=this.objectKeys.size);let o=t>=this.objectEntryDefs.length?this.objectEntryDefs[t]=Object.assign(new Map,{refs:[]}):this.objectEntryDefs[t],i=_<<8|c,a=this.objectEntryDefs[t].get(i);a===void 0&&o.set(i,a=o.size+1),o.refs.push(a)}writeObjectEntriesEnd(t){t>=this.objectEntryDefs.length?this.objectEntryDefs[t]=Object.assign(new Map,{refs:[0]}):this.objectEntryDefs[t].refs.push(0)}writeTypeIndex(t,n,c){let _=0,o=0;for(;n>0;)n&1&&(ce[_]=o++),_++,n>>=1;let i=32-Math.clz32(o-1),a=0,r=0;for(let s=0;s<t.length;s++)r|=ce[c?it[t[s]]:t[s]]<<a,a+=i,a>=8&&(this.backend.writeUint8(r),a-=8,r>>=8);a>0&&this.backend.writeUint8(r)}writeArrayLength(t){this.arrayLengths.push(t)}writeArrayHeader(t,n,c,_,o){let a=(_|(t&Wt)<<1|c<<5|o<<9)<<16|n,r=this.arrayHeaders.get(a);r===void 0&&this.arrayHeaders.set(a,r=this.arrayHeaders.size),this.arrayHeaderRefs.push(r)}vlqBytesNeeded(t){let n=0;for(;t>lt;)t/=268435456,n+=4;return ae[Math.clz32(t)]+n}writeVlq(t){if(t<=qt)this.backend.writeUint8(t<<1|0);else if(t<=Ft)this.backend.writeUint16(t<<2|1);else if(t<=Kt)this.backend.writeUint24(t<<3|3);else{let n=t&lt;this.backend.writeUint32((t>n?2147483648:0)+(n<<3|7)),t>n&&this.writeUintVar((t-n)/(1<<28))}}writeUintVar(t){if(t<=127)this.backend.writeUint8(t&127);else if(t<=16383)this.backend.writeUint16(t<<1&32512|128|t&127);else if(t<=2097151)this.backend.writeUint24(t<<2&8323072|32768|t<<1&32512|128|t&127);else{let n=this.vlqBytesNeeded(t);this.backend.ensureCapacity(n);for(let c=0;c<n-1;c++)this.backend.writeUint8(128|t&127),t=t>$?(t-(t&127))/128:t>>>7;this.backend.writeUint8(t&127)}}writeIntVar(t){let n=0;t<0&&(n=1,t=-t),t<=St?t=t<<1|n:t=2*t+n,this.writeUintVar(t)}writeNumber(t,n){switch(n){case U:this.backend.writeUint8(t);break;case R:this.backend.writeUint16(t);break;case Q:this.backend.writeUint24(t);break;case H:this.backend.writeUint32(t);break;case W:this.writeUintVar(t);break;case j:this.backend.writeInt8(t);break;case v:this.backend.writeInt16(t);break;case X:this.backend.writeInt24(t);break;case q:this.backend.writeInt32(t);break;case F:this.writeIntVar(t);break;case et:this.backend.writeFloat32(t);break;case nt:this.backend.writeFloat64(t);break;default:throw new Error("Unknown numeric type: "+n)}}};function Mt(e){return It(e)||G}function It(e){switch(typeof e){default:return tt;case"boolean":return e?K:z;case"string":return L;case"number":return Number.isFinite(e)?b:G;case"object":return e===null?G:Array.isArray(e)?y:E}}function ut(e,t){let n=0;for(let c=0;c<e.length;c++)e[c]===t&&n++;return n}var le=new Map,be=Object.freeze({hasInlinedEntries:!1,columns:le}),we=Object.freeze({hasInlinedEntries:!0,columns:le});function _e(e,t,n){if(!(n&E))return be;let c=n===E,_=c?e.length:ut(t,E);if(_>1){let o=new Map,i=!1;for(let a=0,r=0;a<e.length;a++)if(c||t[a]===E){let s=e[a];for(let l of Object.keys(s)){let f=s[l],h=It(f);if(h===tt)continue;let N=o.get(l);N===void 0&&o.set(l,N={key:l,typeBitmap:0,values:new Array(_),valueCount:0}),N.typeBitmap|=h,N.values[r]=f,N.valueCount++}r++}for(let a of o.values()){a.valueCount!==_&&(a.typeBitmap|=zt);let r=O[a.typeBitmap];if(r===1)continue;let s=32-Math.clz32(r-1),l=Math.ceil(s*_/8),f=1+1+l,h=a.valueCount*(1+!i);f>h&&(i=!0,o.delete(a.key))}if(o.size>0)return{hasInlinedEntries:i,columns:o}}return we}var ge=Ne();function he(){ge=Ne()}function Ne(){return new Proxy(Object.create(null),{get(e,t){return Object.hasOwn(e,t)?Reflect.get(...arguments):e[t]=0}})}var ye=Object.hasOwnProperty,Ue=new Map;function Re(e,t={}){function n(r){let s=It(r);return s===b?Ut(r)<<3|it[s]:it[s]}function c(r,s=Ue){let l=0;for(let f in r)if(ye.call(r,f)&&!s.has(f)){let h=r[f],N=n(h);if(N===tt)continue;i.writeObjectEntryKey(l,f,N),o(N,r[f]),l++}i.writeObjectEntriesEnd(l)}function _(r,s=!1,l=0){if(r.length===0){i.writeArrayLength(0);return}let f=null,h=0,N=null;if(l===0)for(let I=0;I<r.length;I++)l|=Mt(r[I]);O[l]>1&&(f=r.map(Mt)),l&b&&(N=l===b?r:r.filter((I,x)=>f[x]===b),h=Rt(i,N,!1));let{hasInlinedEntries:u,columns:d}=_e(r,f,l),m=d.size!==0,D=0;if(s||i.writeArrayLength(r.length),i.writeArrayHeader(l,h,m,u,D),O[l]>1&&i.writeTypeIndex(f,l,!0),l&L)for(let I=0;I<r.length;I++)(f===null||f[I]===L)&&i.writeString(r[I]);if(l&b&&kt(i,N,h),D){let I=l===y?r:r.filter(Array.isArray);M(i,I.map(x=>x.length),!0),_(I.flat())}else if(l&y)for(let I=0;I<r.length;I++)(f===null||f[I]===y)&&_(r[I]);if(m){i.writeVlq(d.size);for(let I of d.keys())i.writeString(I);for(let I of d.values())_(I.values,!0,I.typeBitmap)}if(u)for(let I=0;I<r.length;I++)(f===null||f[I]===E)&&c(r[I],d)}function o(r,s){switch(ot[r&7]){case L:i.writeString(s);break;case b:i.writeNumber(s,r>>3);break;case E:c(s);break;case y:_(s);break}}let i=new Nt(t.chunkSize),a=n(e);return he(),i.writeNumber(a,U),o(a,e),i.emit()}var mt=new Uint8Array(32),dt=class{constructor(t){this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.bytes=t,this.pos=0}readBytes(t){return this.bytes.subarray(this.pos,this.pos+=t)}readTypeIndex(t,n,c){let _=0,o=0;for(;n>0;)n&1&&(mt[_++]=o),o++,n>>=1;let i=new Uint8Array(t),a=32-Math.clz32(_-1),r=(1<<a)-1,s=this.readBytes(Math.ceil(a*t/8)),l=0,f=0,h=0;for(let N=0;N<t;N++)f<a&&(h|=s[l]<<f,f+=8,l++),i[N]=c?ot[mt[h&r]]:mt[h&r],h>>=a,f-=a;return i}readVlq(){let t=this.view.getUint8(this.pos);if(!(t&1))t=t>>1,this.pos+=1;else if(!(t&2))t=this.view.getUint8(this.pos+1)<<6|t>>2,this.pos+=2;else if(!(t&4))t=this.view.getUint16(this.pos+1,!0)<<5|t>>3,this.pos+=3;else{let n=this.view.getUint32(this.pos,!0);t=n>>>3&lt,this.pos+=4,n>>>31&&(t+=this.readUintVar()*(1<<28))}return t}readUintVar(){let t=this.view.getUint8(this.pos++),n=t&127,c=128;for(;t&128;)t=this.view.getUint8(this.pos++),n+=(t&127)*c,c*=128;return n}readIntVar(){let t=this.readUintVar();return t&1?-(t-1)/2:t<=$?t>>>1:t/2}readUint8(){let t=this.view.getUint8(this.pos);return this.pos++,t}readInt8(){let t=this.view.getInt8(this.pos);return this.pos++,t}readUint16(){let t=this.view.getUint16(this.pos,!0);return this.pos+=2,t}readInt16(){let t=this.view.getInt16(this.pos,!0);return this.pos+=2,t}readUint24(){let t=this.view.getUint16(this.pos,!0)|this.view.getUint8(this.pos+2)<<16;return this.pos+=3,t}readInt24(){let t=this.view.getUint16(this.pos,!0),n=this.view.getUint8(this.pos+2),c=n&128?(n<<16|t)-16777216:n<<16|t;return this.pos+=3,c}readUint32(){let t=this.view.getUint32(this.pos,!0);return this.pos+=4,t}readInt32(){let t=this.view.getInt32(this.pos,!0);return this.pos+=4,t}readFloat32(){let t=this.view.getFloat32(this.pos);return this.pos+=4,t}readFloat64(){let t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function pt(e,t){switch(t){case U:return e.readUint8();case R:return e.readUint16();case Q:return e.readUint24();case H:return e.readUint32();case W:return e.readUintVar();case j:return e.readInt8();case v:return e.readInt16();case X:return e.readInt24();case q:return e.readInt32();case F:return e.readIntVar();case et:return e.readFloat32();case nt:return e.readFloat64()}}function ke(e){let t=e.readUint8();switch(t&15){case k:case w:case J:case Z:t|=e.readUint8()<<8;break}return t}function B(e,t=e.readVlq()){let n=ke(e);return At(e,n,t)}function At(e,t,n,c=new Array(n)){let _=t&15,o=t&48,i=n,a=0,r=0;switch(o){case st:{a=c[0]=e.readIntVar(),i--,r=1;break}case ht:{a=e.readIntVar();break}}switch(_){case Y:{for(let s=0;s<i;s++)c[r+s]=e.readVlq();break}case P:{for(let s=0;s<i;s++)c[r+s]=e.readIntVar();break}case S:{let s=e.readBytes(Math.ceil(i/2));for(let l=0,f=0;l<i;l++)f=l&1?f>>4:s[l>>1],c[r+l]=f&8?e.readVlq()*8+(f&7):f&7;break}case V:{let s=e.readBytes(Math.ceil(i/2));for(let l=0,f=0;l<i;l++){f=l&1?f>>4:s[l>>1];let h=f&4?-1:1;c[r+l]=f&8?h*(e.readVlq()*4+(f&3)):h*(f&3)}break}case J:{let s=t>>8,l=(1<<s)-1,f=e.readBytes(Math.ceil(i*s/8)),h=0,N=0,u=0;for(let d=0;d<i;d++){for(;N<s;)u|=f[h]<<N,N+=8,h++;c[r+d]=u&l,u>>=s,N-=s}break}case Z:{let s=t>>8,l=(1<<s)-1,f=e.readBytes(Math.ceil(i*s/8)),h=0,N=0,u=0;for(let d=0;d<i;d++){for(;N<s;)u|=f[h]<<N,N+=8,h++;c[r+d]=u&1?-((u&l)>>1):(u&l)>>1,u>>=s,N-=s}break}case _t:{let s=c[0]=e.readIntVar(),l=e.readIntVar();for(let f=1;f<n;f++)s=c[f]=s+l;break}case k:case w:{let s=_===w,l=t>>8,f=s?t&Tt|l&rt:l;if(O[l]>1){let N=e.readTypeIndex(i,f);for(let u=0;u<i;u++)c[r+u]=pt(e,N[u])}else{let N=31-Math.clz32(f);for(let u=0;u<i;u++)c[r+u]=pt(e,N)}break}default:throw new Error(`Unknown numeric array encoding method: ${_}`)}switch(o){case st:{c[0]=a;for(let s=1;s<n;s++)c[s]+=c[s-1];break}case ht:{for(let s=0;s<n;s++)c[s]+=a;break}}return c}var Oe=new TextDecoder("utf8",{ignoreBOM:!0});function Me(e){if(e.readBytes(8).some((_,o)=>_!==xt[o]))throw new Error("Bad magic number");let n=e.readUint16();if(n!==at)throw new Error(`Unsupported jsonxl version "${n}", expected "${at}"`);let c=e.readUint16();return{version:n,flags:c}}function me(e){let t=Oe.decode(e.readBytes(e.readVlq())),n=B(e),c=B(e),_=B(e),o=B(e),i=new Array(n),a=0;for(let r=0,s=0,l=0,f=0,h="";r<n.length;r++){let N=n[r],u=t.slice(s,s+=N>>2);N&2&&(u=h.slice(0,c[l++])+u),N&1&&(u=u+h.slice(-_[f++])),i[r]=u,h=u}return{readStrings(r,s){return o.slice(r,s).map(l=>i[l])},readString(){return i[o[a++]]}}}function Ce(e){let t=B(e),n=0;return function(){return t[n++]}}function Ye(e){let t=B(e),n=B(e),c=0;return function(){return t[n[c++]]}}function Pe(e,t){let n=e.readVlq(),c=e.readVlq();if(n===0)return()=>null;let _=c?t(-c):[],o=new Array(n);for(let i=0;i<n;i++)o[i]={dict:B(e),refs:B(e),index:0};return function(a){let r=o[a],s=r.refs[r.index++],l=r.dict[s];return l===0?null:{key:_[l>>8],type:l&255}}}function Se(e){function t(f={}){let h=0,N;for(;N=s(h++);)f[N.key]=c(N.type);return f}function n(f=a()){if(f===0)return[];let h=r(),N=h>>16,u=h&65535,d=N&1,m=N>>5&1,D=N>>9&1,I=N>>1&255|(N&1)<<4,x=new Array(f),p=O[I]>1?_.readTypeIndex(f,I,!0):null;if(I&Jt)if(p===null)switch(I){case G:x.fill(null);break;case K:x.fill(!0);break;case z:x.fill(!1);break}else for(let T=0;T<f;T++)switch(p[T]){case G:x[T]=null;break;case K:x[T]=!0;break;case z:x[T]=!1;break}if(I&L)for(let T=0;T<f;T++)(p===null||p[T]===L)&&(x[T]=i());if(I&b)if(I===b)At(_,u,f,x);else{let T=ut(p,b),A=At(_,u,T);for(let C=0,g=0;C<f;C++)p[C]===b&&(x[C]=A[g++])}if(I&y)if(D){let T=I===y?f:ut(p,y),A=B(_,T),C=n();for(let g=0,Et=0,ct=0;g<f;g++)(p===null||p[g]===y)&&(x[g]=C.slice(ct,ct+=A[Et++]))}else for(let T=0;T<f;T++)(p===null||p[T]===y)&&(x[T]=n());if(I&E){let T=I===E?x:[];for(let A=0,C=0;A<f;A++)(p===null||p[A]===E)&&(x[A]=T[C++]={});if(m){let A=_.readVlq(),C=new Array(A);for(let g=0;g<A;g++)C[g]=i();for(let g=0;g<A;g++){let Et=C[g],ct=n(T.length);for(let ft=0;ft<T.length;ft++)ct[ft]!==void 0&&(T[ft][Et]=ct[ft])}}if(d)for(let A=0;A<T.length;A++)t(T[A])}return x}function c(f){switch(ot[f&7]){case G:return null;case L:return i();case b:return pt(_,f>>3);case E:return t();case K:return!0;case z:return!1;case y:return n()}}let _=new dt(e);Me(_);let{readStrings:o,readString:i}=me(_),a=Ce(_),r=Ye(_),s=Pe(_,o),l=c(_.readUint8());if(_.pos!==e.byteLength)throw new Error("End of input is not reached");return l}export{Nt as Writer,Ot as createWriterBackend,Se as decode,Re as encode};
